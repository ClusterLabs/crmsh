# This workflow will install Python dependencies, run tests and lint with a single version of Python
# For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions
# For more information about secrets see: https://docs.github.com/en/free-pro-team@latest/actions/reference/encrypted-secrets

name: crmsh CI

on: [push, pull_request]

env:
  DOCKER_SCRIPT: ./test/run-functional-tests
  GET_INDEX_OF: ./test/run-functional-tests _get_index_of
  FOLDER: /package
  PACKAGE_NAME: crmsh
  OBS_USER: ${{ secrets.OBS_USER }}
  OBS_PASS: ${{ secrets.OBS_PASS }}
  OBS_PROJECT: ${{ secrets.OBS_PROJECT }}
  TARGET_PROJECT: ${{ secrets.TARGET_PROJECT }}

jobs:
  general_check:
    runs-on: ubuntu-20.04
    steps:
    - uses: actions/checkout@v3
    - name: test
      env:
        MY_NAME: ${{ secrets.MY_NAME }}
      run: |
        echo "xxxx${MY_NAME}"
