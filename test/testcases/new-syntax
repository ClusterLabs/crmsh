show Basic configure
node node1
delete node1
node node1 \
        attributes mem=16G
node node2 utilization cpu=4
primitive st stonith:ssh \
        params hostlist='node1 node2' \
        meta target-role="Started" requires=nothing \
        op start timeout=60s \
        op monitor interval=60m timeout=60s
primitive d1 ocf:pacemaker:Dummy \
        operations $id=d1-ops \
        op monitor interval=60m \
        op monitor interval=120m OCF_CHECK_LEVEL=10
monitor d1 60s:30s
primitive d2 ocf:heartbeat:Delay \
        params mondelay=60 \
        op start timeout=60s \
        op stop timeout=60s
monitor d2:Started 60s:30s
group g1 d1 d2
primitive d3 ocf:pacemaker:Dummy
clone c d3 \
        meta clone-max=1
primitive d4 ocf:pacemaker:Dummy
ms m d4
delete m
master m d4
primitive s5 ocf:pacemaker:Stateful \
        operations $id-ref=d1-ops
primitive s6 ocf:pacemaker:Stateful \
        operations $id-ref=d1
ms m5 s5
ms m6 s6
primitive d7 Dummy \
        params fake=1 extra rule score=inf \
        expression attribute=#uname operation=eq value=node1 \
        params fake=2 extra rule score=inf \
        expression attribute=#uname operation=eq value=node2 \
        op start interval=0 timeout=60s \
        extra score=2 op_param=dummy \
        rule expression attribute=#uname operation=eq value=node1 \
        extra score=1 op_param=smart \
        extra op_type=meta score=2 start-delay=120m \
        rule expression attribute=#ra-version operation=gt value=1.0 type=version \
        extra op_type=meta score=1 start-delay=60m
location l1 g1 on node1 score=100
location l2 c \
        rule $id=l2-rule1 score=100 expression attribute=#uname operation=eq value=node1
location l3 m5 \
        rule score=inf \
        expression attribute=#uname operation=eq value=node1 and \
        expression attribute=pingd operation=gt value=0
location l4 m5 \
        rule score=-inf \
        expression attribute=pingd operation=not_defined or \
        expression attribute=pingd operation=lte value=0
location l5 m5 \
        rule score=-inf \
        expression attribute=pingd operation=not_defined or \
        expression attribute=pingd operation=lte value=0 \
        rule score=0 \
        expression attribute="#uname" operation=eq value=node1 and \
        expression attribute=pingd operation=gt value=0 \
        rule \
        date operation=lt end=2009-05-26 and \
        date operation=in_range start=2009-05-26 end=2009-07-26 and \
        date operation=in_range start=2009-05-26 duration years=2009 and \
        date operation=date_spec years=2009 hours=09-17
primitive x1 ocf:pacemaker:Dummy
primitive x2 ocf:pacemaker:Dummy
primitive x3 ocf:pacemaker:Dummy
primitive x4 ocf:pacemaker:Dummy
primitive x5 ocf:pacemaker:Dummy
primitive x6 ocf:pacemaker:Dummy
primitive x7 ocf:pacemaker:Dummy
primitive x8 ocf:pacemaker:Dummy
colocation c1 x1 with x2 options score=inf
colocation c2 x3 role=Master with x4 with_role=Started options score=inf
order o1 first x1 then x2 options kind=Mandatory
order o2 first x3 first-action=start then x4 then-action=promote options kind=Optional
order o3 first x5 then x6 options kind=Serialize
order o4 first x7 then x8
rsc_ticket ticket-A_x1 ticket=ticket-A x1
rsc_ticket ticket-B_x2_x3 ticket=ticket-B \
        resource_set x2 x3 \
        options loss-policy=fence
rsc_ticket ticket-C_master ticket=ticket-C \
        resource_set x4 \
        resource_set x5 role=Master \
        options loss-policy=fence
